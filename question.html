<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‘ ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸ</title>
    <!-- OGP / Twitter Card -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸ - è³ªå•å ã„">
    <meta property="og:description" content="ã‚«ã‚¹éŠ€æ²³ã‹ã‚‰ç²¾åº¦2%ã®é‹å‹¢æƒ…å ±ã‚’ãŠå±Šã‘">
    <meta property="og:url" content="https://ryo909.github.io/kasu-ura/question.html">
    <meta property="og:image" content="https://ryo909.github.io/kasu-ura/assets/ogp.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸ - è³ªå•å ã„">
    <meta name="twitter:description" content="ã‚«ã‚¹éŠ€æ²³ã‹ã‚‰ç²¾åº¦2%ã®é‹å‹¢æƒ…å ±ã‚’ãŠå±Šã‘">
    <meta name="twitter:image" content="https://ryo909.github.io/kasu-ura/assets/ogp.png">
    <link rel="canonical" href="https://ryo909.github.io/kasu-ura/question.html">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=M+PLUS+Rounded+1c:wght@300;400;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            background: linear-gradient(135deg, #0a0a23 0%, #1a1a3a 50%, #0d1b2a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* æ˜Ÿå±‘ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 1;
            }
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
        .container {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-family: 'Orbitron', monospace;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(0, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 2.5em;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #ff0080;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                text-shadow: 0 0 20px #ff0080;
            }

            50% {
                text-shadow: 0 0 30px #ff0080, 0 0 40px #ff0080;
            }
        }

        .subtitle {
            font-size: 1.2em;
            color: #00ffff;
            margin-bottom: 15px;
        }

        .description {
            font-size: 0.95em;
            color: #cccccc;
            line-height: 1.6;
            max-width: 500px;
            margin: 0 auto;
        }

        /* è³ªå•ãƒ•ã‚©ãƒ¼ãƒ  */
        .question-form {
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #00ffff;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .question-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .form-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.3em;
            color: #00ffff;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .question-input {
            width: 100%;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: #ffffff;
            font-size: 1.1em;
            font-family: 'M PLUS Rounded 1c', sans-serif;
            resize: none;
            min-height: 80px;
            transition: all 0.3s ease;
        }

        .question-input:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .question-input::placeholder {
            color: #888;
        }

        .char-counter {
            position: absolute;
            bottom: -25px;
            right: 10px;
            font-size: 0.8em;
            color: #888;
            font-family: 'Orbitron', monospace;
        }

        .char-counter.warning {
            color: #ffa500;
        }

        .char-counter.danger {
            color: #ff4757;
        }

        /* é€ä¿¡ãƒœã‚¿ãƒ³ */
        .submit-button {
            width: 100%;
            max-width: 300px;
            margin: 30px auto 0;
            padding: 15px 30px;
            background: linear-gradient(45deg, #ff0080, #00ffff);
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Orbitron', monospace;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: block;
        }

        .submit-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.5);
        }

        .submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
            font-family: 'Orbitron', monospace;
            color: #00ffff;
        }

        .loading.active {
            display: block;
        }

        .loading-text {
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .loading-animation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
        }

        .wave-dot {
            width: 12px;
            height: 12px;
            background: #00ffff;
            border-radius: 50%;
            animation: wave 1.5s ease-in-out infinite;
        }

        .wave-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .wave-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        .wave-dot:nth-child(4) {
            animation-delay: 0.6s;
        }

        @keyframes wave {

            0%,
            80%,
            100% {
                transform: scale(0.8);
                opacity: 0.5;
            }

            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .loading-messages {
            font-size: 0.9em;
            color: #888;
            line-height: 1.6;
        }

        /* å›ç­”ã‚¨ãƒªã‚¢ */
        .answer-area {
            display: none;
            background: rgba(255, 0, 128, 0.05);
            border: 2px solid #ff0080;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .answer-area.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .answer-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 0, 128, 0.1), transparent);
            animation: scan 3s infinite;
        }

        .answer-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            font-family: 'Orbitron', monospace;
        }

        .casula-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .casula-name {
            color: #ff0080;
            font-weight: bold;
            font-size: 1.2em;
        }

        .answer-content {
            font-size: 1.1em;
            line-height: 1.7;
            color: #ffffff;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #ff0080;
        }

        /* ã‚³ãƒ¡ãƒ³ãƒˆæ¬„é¢¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .comments-section {
            margin-top: 25px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comments-title {
            color: #888;
            font-size: 0.9em;
            margin-bottom: 15px;
            font-family: 'Orbitron', monospace;
        }

        .comment {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 3px solid #666;
            font-size: 0.9em;
            color: #ccc;
            line-height: 1.5;
        }

        .comment::before {
            content: "ğŸ‘¤ ";
            color: #888;
        }

        /* SNSã‚·ã‚§ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .share-section {
            margin-top: 30px;
            text-align: center;
            padding: 25px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .share-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.1em;
            color: #00ffff;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .share-button {
            display: inline-block;
            padding: 12px 25px;
            margin: 8px;
            background: linear-gradient(45deg, #ff6b6b, #ffa500, #ff6b6b);
            background-size: 200% 200%;
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Orbitron', monospace;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            animation: shareGlow 2s ease-in-out infinite alternate;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .share-button:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
        }

        @keyframes shareGlow {
            0% {
                box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
                background-position: 0% 50%;
            }

            100% {
                box-shadow: 0 4px 25px rgba(255, 107, 107, 0.5);
                background-position: 100% 50%;
            }
        }

        .share-stats {
            margin-top: 20px;
            font-size: 0.9em;
            color: #888;
            font-family: 'Orbitron', monospace;
            line-height: 1.5;
        }

        .share-message {
            display: none;
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            color: #00ff00;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: 'Orbitron', monospace;
            animation: fadeInOut 3s ease-in-out;
        }

        .share-message.active {
            display: block;
        }

        @keyframes fadeInOut {

            0%,
            100% {
                opacity: 0;
                transform: translateY(10px);
            }

            20%,
            80% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-again {
            margin-top: 20px;
            text-align: center;
        }

        .question-again-button {
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 10px 25px;
            border-radius: 20px;
            font-family: 'Orbitron', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .question-again-button:hover {
            background: rgba(0, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #888;
            font-size: 0.9em;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .logo {
                font-size: 2em;
            }

            .container {
                padding: 15px;
            }

            .question-form {
                padding: 20px;
            }

            .back-button {
                position: static;
                margin-bottom: 20px;
                display: inline-block;
            }
        }
    </style>
</head>

<body>
    <div class="stars" id="stars"></div>

    <div class="container">
        <a href="#" class="back-button" onclick="goBack()">â† ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>

        <header class="header">
            <h1 class="logo">ğŸ‘ ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸ</h1>
            <p class="subtitle">è³ªå•å—ä»˜ã‚·ã‚¹ãƒ†ãƒ </p>
            <p class="description">
                ã‚ãªãŸã®è³ªå•ã€ã¡ã‚ƒã‚“ã¨å±Šãã‹ã©ã†ã‹ã¯é›»æ³¢æ¬¡ç¬¬ã€‚<br>
                ã‚«ã‚¹ãƒ©ã¯ã ã„ãŸã„ã€ãã‚Œã£ã½ãè¿”ã—ã¦ãã‚Œã¾ã™ã€‚ãŸã¾ã«è¿·å­ã§ã™ã€‚
            </p>
        </header>

        <main>
            <div class="question-form">
                <h2 class="form-title">ğŸ›¸ ã‚«ã‚¹ãƒ©ã«è³ªå•ã™ã‚‹</h2>
                <div class="input-container">
                    <textarea class="question-input" id="questionInput" placeholder="ã€ŒLINEã—ã¦ã„ã„ã§ã™ã‹ï¼Ÿã€ã€Œè»¢è·ã©ã†æ€ã„ã¾ã™ã‹ï¼Ÿã€ãªã©ã€ãŠå¥½ãã«ã€‚"
                        maxlength="100" oninput="updateCharCounter()"></textarea>
                    <div class="char-counter" id="charCounter">0/100</div>
                </div>
                <button class="submit-button" id="submitButton" onclick="submitQuestion()">
                    ğŸ“¡ ã‚«ã‚¹ãƒ©ã«æ¥ç¶šã™ã‚‹
                </button>
            </div>

            <div class="loading" id="loading">
                <div class="loading-text" id="loadingText">ãƒ”ãƒ”ãƒƒâ€¦â€¦ã‚¶ã‚¶ãƒƒâ€¦â€¦ä¿¡å·å—ä¿¡ä¸­â€¦â€¦</div>
                <div class="loading-animation">
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                </div>
                <div class="loading-messages" id="loadingMessages">
                    ã‚«ã‚¹ãƒ©ãŒè€ƒãˆã¦ã„ã¾ã™â€¦â€¦ãŸã¶ã‚“â€¦â€¦
                </div>
            </div>

            <div class="answer-area" id="answerArea">
                <div class="answer-header">
                    <div class="casula-icon">ğŸ›°</div>
                    <div class="casula-name">ã‚«ã‚¹ãƒ©ã®å›ç­”ï¼š</div>
                </div>
                <div class="answer-content" id="answerContent">
                    <!-- å›ç­”ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                </div>
                <div class="comments-section">
                    <div class="comments-title">ğŸ’¬ ãªã‚“ã‹å…±æ„Ÿã—ã¦ã‚‹äººã®å£°</div>
                    <div id="randomComments">
                        <!-- ãƒ©ãƒ³ãƒ€ãƒ ã‚³ãƒ¡ãƒ³ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                    </div>
                </div>
                <div class="share-section">
                    <div class="share-title">ğŸ“¢ ã¿ã‚“ãªã«ã‚‚ã“ã®ã‚«ã‚¹è¦‹ã›ã‚‹</div>
                    <button class="share-button" onclick="shareToTwitter()">
                        ğ• ã‚«ã‚¹ã‚’ä¸–ç•Œã«æ”¾æµ
                    </button>
                    <button class="share-button" onclick="shareToLine()">
                        ğŸ’¬ LINEã§ã‚«ã‚¹å…±æœ‰
                    </button>
                    <button class="share-button" id="copyUrlBtn" onclick="copyResultUrl()">
                        ğŸ“‹ çµæœURLã‚’ã‚³ãƒ”ãƒ¼
                    </button>
                    <div class="share-stats" id="shareStats">
                        <!-- çµ±è¨ˆã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                    </div>
                    <div class="share-message" id="shareMessage">
                        ğŸ›¸ å®‡å®™ã«ã‚«ã‚¹ã‚’æ”¾æµã—ã¾ã—ãŸ
                    </div>
                </div>
                <div class="question-again">
                    <button class="question-again-button" onclick="askAgain()">
                        ã‚‚ã†ä¸€åº¦è³ªå•ã™ã‚‹
                    </button>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>â€»ã‚«ã‚¹ãƒ©ã®å›ç­”ã¯ã€å®‡å®™ã®å¾®ç²’å­ã¨ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ã‹ã‚‰ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
            <p>çš„ä¸­ç‡ã¯æœŸå¾…ã›ãšã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚</p>
        </footer>
    </div>

    <script>
        // ==== Seeded Random (mulberry32) ====
        function mulberry32(seed) {
            return function () {
                var t = seed += 0x6D2B79F5;
                t = Math.imul(t ^ t >>> 15, t | 1);
                t ^= t + Math.imul(t ^ t >>> 7, t | 61);
                return ((t ^ t >>> 14) >>> 0) / 4294967296;
            };
        }
        function hashString(str) {
            var hash = 0;
            for (var i = 0; i < str.length; i++) {
                hash = ((hash << 5) - hash) + str.charCodeAt(i);
                hash = hash & hash;
            }
            return Math.abs(hash);
        }
        // Get URL params
        var urlParams = new URLSearchParams(window.location.search);
        var currentSeed = urlParams.get('seed') || '';
        var seededRandom = null;

        // Copy URL to clipboard
        function copyResultUrl() {
            navigator.clipboard.writeText(window.location.href).then(function () {
                var btn = document.getElementById('copyUrlBtn');
                if (btn) {
                    btn.textContent = 'âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
                    setTimeout(function () { btn.textContent = 'ğŸ“‹ çµæœURLã‚’ã‚³ãƒ”ãƒ¼'; }, 2000);
                }
            });
        }

        // ç¾åœ¨ã®è³ªå•ã¨å›ç­”ã‚’ä¿å­˜
        var currentQuestion = '';
        var currentAnswer = '';

        // æ˜Ÿã‚’ç”Ÿæˆ
        function createStars() {
            var starsContainer = document.getElementById('stars');
            var numberOfStars = 100;

            for (var i = 0; i < numberOfStars; i++) {
                var star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼æ›´æ–°
        function updateCharCounter() {
            var input = document.getElementById('questionInput');
            var counter = document.getElementById('charCounter');
            var length = input.value.length;

            counter.textContent = length + '/100';

            if (length > 80) {
                counter.className = 'char-counter danger';
            } else if (length > 60) {
                counter.className = 'char-counter warning';
            } else {
                counter.className = 'char-counter';
            }

            // é€ä¿¡ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°
            var submitButton = document.getElementById('submitButton');
            submitButton.disabled = length === 0 || length > 100;
        }

        // é€ä¿¡ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å¤‰æ›´
        function randomizeButtonText() {
            var button = document.getElementById('submitButton');
            var buttonTexts = [
                "ğŸ“¡ ã‚«ã‚¹ãƒ©ã«æ¥ç¶šã™ã‚‹",
                "ğŸ›¸ å—ä¿¡é–‹å§‹",
                "âœ‰ï¸ é€ä¿¡ï¼ˆã™ã‚‹æ„å‘³ã¯ãªã„ï¼‰",
                "ğŸŒŒ å®‡å®™ã«æŠ•ã’ã‚‹",
                "âš¡ é›»æ³¢ã‚’é£›ã°ã™",
                "ğŸ¯ ã‚«ã‚¹ãƒ©ã‚’å‘¼ã³å‡ºã™",
                "ğŸ”® é‹å‘½ã«å§”ã­ã‚‹"
            ];
            var randomText = buttonTexts[Math.floor(Math.random() * buttonTexts.length)];
            button.textContent = randomText;
        }

        // è³ªå•ã‚’é€ä¿¡
        function submitQuestion() {
            var input = document.getElementById('questionInput');
            var question = input.value.trim();

            if (!question) return;

            // è³ªå•ã‚’ä¿å­˜
            currentQuestion = question;

            // æ–°ã—ã„seedã‚’ç”Ÿæˆã—ã¦URLã‚’æ›´æ–°
            currentSeed = Math.random().toString(36).substr(2, 8);
            seededRandom = mulberry32(hashString(currentSeed));
            var newUrl = window.location.pathname + '?q=' + encodeURIComponent(question) + '&seed=' + currentSeed;
            history.replaceState(null, '', newUrl);

            // ãƒ•ã‚©ãƒ¼ãƒ ã‚’éè¡¨ç¤º
            document.querySelector('.question-form').style.display = 'none';

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            var loading = document.getElementById('loading');
            loading.classList.add('active');

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‹•çš„ã«å¤‰æ›´
            var loadingMessages = [
                "ã‚«ã‚¹ãƒ©ãŒè€ƒãˆã¦ã„ã¾ã™â€¦â€¦ãŸã¶ã‚“â€¦â€¦",
                "é›»æ³¢ã®ä¹±ã‚Œã‚’èª¿æ•´ä¸­â€¦â€¦",
                "å®‡å®™èªã‚’ç¿»è¨³ã—ã¦ã„ã¾ã™â€¦â€¦",
                "ã‚«ã‚¹çš„ç²’å­ã‚’åˆ†æä¸­â€¦â€¦",
                "æ„å‘³ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™â€¦â€¦",
                "å›ç­”ã‚’è£½é€ ä¸­â€¦â€¦å“è³ªã¯ä¿è¨¼ã—ã¾ã›ã‚“â€¦â€¦",
                "ã‚«ã‚¹ãƒ©ãŒè¿·å­ã«ãªã‚Šã¾ã—ãŸâ€¦â€¦æ¢ã—ã¦ã¾ã™â€¦â€¦",
                "ãƒ‡ãƒ¼ã‚¿ã‚’é©å½“ã«çµ„ã¿ç«‹ã¦ä¸­â€¦â€¦"
            ];

            var messageIndex = 0;
            var messageInterval = setInterval(function () {
                var loadingMessagesElement = document.getElementById('loadingMessages');
                loadingMessagesElement.textContent = loadingMessages[messageIndex % loadingMessages.length];
                messageIndex++;
            }, 1500);

            // 2-4ç§’å¾Œã«å›ç­”ã‚’è¡¨ç¤º
            setTimeout(function () {
                clearInterval(messageInterval);
                showAnswer();
            }, seededRandom() * 2000 + 2000);
        }

        // å›ç­”ã‚’è¡¨ç¤º
        function showAnswer() {
            var loading = document.getElementById('loading');
            var answerArea = document.getElementById('answerArea');
            var answerContent = document.getElementById('answerContent');
            var shareStats = document.getElementById('shareStats');
            var randomComments = document.getElementById('randomComments');

            // ã‚«ã‚¹ãƒ©ã®å›ç­”é…åˆ—
            var casulaAnswers = [
                "ã”è³ªå•ã€é›»æ³¢çš„ã«ã¯å—ä¿¡ã—ã¾ã—ãŸã€‚å†…å®¹ã¯ã¼ã‚“ã‚„ã‚Šéœã‚“ã§ã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšã€Œæ˜¼å¯ã¯æ­£è§£ã€ã¨ã„ã†æ°—ãŒã—ã¾ã™ã€‚",
                "ã‚ãªãŸã®å•ã„ã«ã¯ç¢ºã‹ã«æ·±ã¿ãŒã‚ã‚Šã¾ã—ãŸã€‚ã§ã‚‚ä»Šã®ç§ã¯ã€æ°´æ§½ã®æ³¡ã®ãƒªã‚ºãƒ ã«é›†ä¸­ã—ã¦ã„ã‚‹ã¨ã“ã‚ãªã®ã§ã€è¿”äº‹ã¯ãã‚Œã£ã½ãã—ã¦ãŠãã¾ã™ã€‚",
                "ã‚¶ã‚¶ãƒƒâ€¦ã”ã‚ã‚“ãªã•ã„ã€é€”ä¸­ã¾ã§èª­ã¿ã¾ã—ãŸãŒã€æœ€å¾Œã®å˜èªãŒãƒ•ãƒ«ãƒ¼ãƒ„ã«èã“ãˆã¾ã—ãŸã€‚ãã‚ŒãŒä½•ã‹ã®æš—ç¤ºã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                "ç­”ãˆã¯ã€Œã‚„ã‚‹ãªã‚‰ä»Šã€ã§ã‚‚ã‚ã‚Šã€ã€Œã„ã¾ã˜ã‚ƒãªã„ã€ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚«ã‚¹ãƒ©ã¯ã©ã¡ã‚‰ã¨ã‚‚è¨€ã£ã¦ã„ã¾ã›ã‚“ãŒã€ãŸã¶ã‚“ã©ã¡ã‚‰ã‹ã§ã™ã€‚",
                "è³ªå•ã®å†…å®¹ã¯æœªç¢ºèªã§ã™ãŒã€é›»æ³¢ã®ä¹±ã‚Œã‹ã‚‰å¯Ÿã™ã‚‹ã«ã€ã‚ãªãŸã¯ä»Šã€è¿·ã£ã¦ã¾ã™ã­ã€‚ãã†ã„ã†æ™‚ã¯ã€ã‚¹ãƒªãƒƒãƒ‘ã®éŸ³ã§æ±ºã‚ã¾ã—ã‚‡ã†ã€‚",
                "ãã®ä»¶ã«ã¤ã„ã¦ã¯ã€ç§ã®ä¸Šå¸ï¼ˆå­˜åœ¨æœªç¢ºèªï¼‰ã«ä¸€åº¦ç¢ºèªã—ãŸã„ã®ã§ã™ãŒã€ä»Šã¯é€£ä¼‘ã‚‰ã—ã„ã§ã™ã€‚ã¨ã‚Šã‚ãˆãšã€Œã¾ã‚ã¾ã‚ã€ã¨ã ã‘ãŠä¼ãˆã—ã¾ã™ã€‚",
                "ãŠãã‚‰ãã€è³ªå•ã«ã€Œæ„Ÿæƒ…ã€ãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚ãã®æ°—æŒã¡ã¯ã€é›»å­çš„ã«ã¯ã¨ã¦ã‚‚å°Šã„ã§ã™ã€‚ã§ã€ãªã‚“ã§ã—ãŸã£ã‘ã€‚",
                "å†…å®¹ã¯å—ã‘å–ã‚Šã¾ã—ãŸãŒã€è¨€èªå‡¦ç†AIã‚’é€šã—ã¦ã‚‹é–“ã«ä½•ã‹ãŒå¤‰è³ªã—ã¾ã—ãŸã€‚ä»Šã®æ°—åˆ†ã§ãŠç­”ãˆã™ã‚‹ã¨ã€ã€Œæ˜†å¸ƒã«ç›¸è«‡ã™ã‚‹ã®ãŒã‚ˆã•ãã†ã€ã§ã™ã€‚",
                "ãªã‚‹ã»ã©ã€‚ãªã‚‹ã»ã©ï¼Ÿã€€ãªã‚‹ã»ã©ã€‚ã‚«ã‚¹ãƒ©ã¯3å›ãªã‚‹ã»ã©ã¨è¨€ã„ã¾ã—ãŸã®ã§ã€ãã‚ŒãŒç­”ãˆã§ã™ã€‚",
                "ã”è³ªå•ã¯å®Œå…¨ã«ç†è§£ã—ã¾ã—ãŸï¼ˆâ€»å½“ç¤¾æ¯”ï¼‰ã‚ˆã£ã¦ã€æ›–æ˜§ãªè‚¯å®šã‚’ãŠè¿”ã—ã—ã¾ã™ã€‚ã€Œãã‚Œã‚‚ã¾ãŸã€ã‚ã‚Šã€"
            ];

            // å…±æ„Ÿã‚³ãƒ¡ãƒ³ãƒˆé…åˆ—
            var empathyComments = [
                "ã‚ã€œã€ã“ã‚Œã¯æ˜¨æ—¥ã†ã¡ã®è¦³è‘‰æ¤ç‰©ã‚‚è¨€ã£ã¦ãŸ",
                "ã“ã†ã„ã†ã“ã¨ã£ã¦ã€å†·è”µåº«ã®å¥¥ã§ã‚ˆãèµ·ãã¾ã™ã‚ˆã­",
                "ãªã‚“ã‹ã‚ã‹ã‚‹ã€‚ä»Šæœã®å‘³å™Œæ±ã‚‚ãã‚“ãªå‘³ã ã£ãŸ",
                "ã†ã¡ã®çŒ«ã‚‚æ˜¨æ—¥ã“ã‚“ãªé¡”ã—ã¦ãŸã€‚ã¤ã¾ã‚Šãã†ã„ã†ã“ã¨",
                "ã“ã†ã„ã†æ—¥ã¯ã€ãªãœã‹ãƒˆã‚¤ãƒ¬ã®ãƒ‰ã‚¢ãŒé‡ã„ã‚“ã ã‚ˆãªã€œ",
                "ç§ã‚‚æ˜”ã€ä¼¼ãŸã‚ˆã†ãªã“ã¨ã‚’å¤¢ã®ä¸­ã®ãƒ‘ãƒ³å±‹ã§è¨€ã‚ã‚Œã¾ã—ãŸ",
                "ã‚ã‹ã‚‹ã€‚ã£ã¦ã„ã†ã‹ã€ã“ã‚Œã¯ã ã„ãŸã„æœˆã®ã›ã„",
                "æ˜¨æ—¥ã®Wi-Fiã‚‚åŒã˜åå¿œã—ã¦ãŸã€‚ã‚„ã£ã±é›»æ³¢ã£ã¦ç¹‹ãŒã£ã¦ã‚‹",
                "ã‚ã€ãã‚Œã€ä»Šæœæµã‚Œã¦ããŸåºƒå‘Šã«ã‚‚æ›¸ã„ã¦ã‚ã£ãŸ",
                "ã‚ã‹ã‚‹ã€‚ã‚«ãƒ¼ãƒ†ãƒ³ã®æºã‚Œæ–¹ãŒãã‚Œã£ã½ã‹ã£ãŸã‚‚ã‚“",
                "ã‚ãƒ¼ã€ãã‚Œã€ã†ã¡ã®æ´—æ¿¯æ©Ÿã‚‚å›ã‚ŠãªãŒã‚‰ã¤ã¶ã‚„ã„ã¦ãŸ",
                "ãªã‚“ã¨ãªãã‚ã‹ã‚‹ã€‚å¤•æ–¹ã®é¢¨ãŒåŒã˜åŒ‚ã„ã—ã¦ãŸã‚‚ã‚“",
                "ã“ã‚Œèª­ã‚“ã§ãŸã‚‰ã€ç›®è–¬ã•ã™ã‚¿ã‚¤ãƒŸãƒ³ã‚°å¿˜ã‚ŒãŸã€‚ã¤ã¾ã‚Šå½“ãŸã£ã¦ã‚‹",
                "ä»Šæœã®ãã—ã‚ƒã¿ã€ã“ã‚Œã®äºˆå‘Šã ã£ãŸã‹ã‚‚",
                "ãã‚Œã€æ˜”è²·ã£ãŸã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚‚æ›¸ã„ã¦ã‚ã£ãŸæ°—ãŒã™ã‚‹ã€‚ãŸã¶ã‚“è£é¢",
                "è¨€è‘‰ã˜ã‚ƒãªã„\"ã‚‚ã‚„ã‚‚ã‚„\"ã£ã¦ã€ã ã„ãŸã„å½“ãŸã£ã¦ã‚‹ã‚“ã ã‚ˆã­",
                "ã“ã†ã„ã†è©±ã€å‰ã«ãƒˆãƒ¼ã‚¹ã‚¿ãƒ¼ã‹ã‚‰èã„ãŸ",
                "æ˜¨æ—¥ã®å¤œã€æ€¥ã«ã‚«ãƒ¼ãƒ†ãƒ³ãŒå‹•ã„ãŸç†ç”±ãŒã“ã‚Œã§ã‚ã‹ã£ãŸ",
                "å®Ÿå®¶ã®ä»å£‡ã‚‚ãŸã¶ã‚“åŒæ„ã—ã¦ã‚‹æ°—ãŒã™ã‚‹",
                "ã“ã‚Œã€æ˜”ã®è‡ªåˆ†ãªã‚‰ä¿¡ã˜ã¦ãªã‹ã£ãŸã€‚ã§ã‚‚ä»Šã¯ã€å†·è”µåº«ãŒæ•™ãˆã¦ãã‚Œã‚‹"
            ];

            // ãƒ©ãƒ³ãƒ€ãƒ ãªå›ç­”ã‚’é¸æŠ
            var randomAnswer = casulaAnswers[Math.floor(seededRandom() * casulaAnswers.length)];
            currentAnswer = randomAnswer;

            // ãƒ©ãƒ³ãƒ€ãƒ ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’2-3å€‹é¸æŠï¼ˆseeded shuffleï¼‰
            var commentsCopy = empathyComments.slice();
            for (var j = commentsCopy.length - 1; j > 0; j--) {
                var k = Math.floor(seededRandom() * (j + 1));
                var temp = commentsCopy[j];
                commentsCopy[j] = commentsCopy[k];
                commentsCopy[k] = temp;
            }
            var selectedComments = commentsCopy.slice(0, Math.floor(seededRandom() * 2) + 2);

            // ã‚³ãƒ¡ãƒ³ãƒˆHTMLã‚’ç”Ÿæˆ
            var commentsHtml = '';
            for (var i = 0; i < selectedComments.length; i++) {
                commentsHtml += '<div class="comment">' + selectedComments[i] + '</div>';
            }

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°éè¡¨ç¤º
            loading.classList.remove('active');

            // å›ç­”ã‚’è¡¨ç¤º
            answerContent.textContent = randomAnswer;

            // ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤º
            randomComments.innerHTML = commentsHtml;

            // ã‚·ã‚§ã‚¢çµ±è¨ˆã‚’åˆæœŸåŒ–
            updateShareStats();

            answerArea.classList.add('active');
        }

        // SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½
        function shareToTwitter() {
            if (!currentQuestion || !currentAnswer) return;

            var shareText = 'ã€ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸã€‘\nè³ªå•ï¼šã€Œ' + currentQuestion + 'ã€\nğŸ›° ã‚«ã‚¹ãƒ©ã®å›ç­”ï¼š\nã€Œ' + currentAnswer + 'ã€\n\n#ã‹ã™ã†ã‚‰ #ã‚«ã‚¹ãƒ©ã«ãã„ã¦ã¿ãŸ #ã‚«ã‚¹éŠ€æ²³é€šä¿¡æ‰€';
            var shareUrl = window.location.href;
            var twitterUrl = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(shareText) + '&url=' + encodeURIComponent(shareUrl);

            window.open(twitterUrl, '_blank', 'width=600,height=400');
            showShareMessage();
        }

        function shareToLine() {
            const shareText = 'ã‚«ã‚¹éŠ€æ²³é€šä¿¡æ‰€ã§ã‚«ã‚¹ãƒ©ã«è³ªå•ã—ã¦ã¿ã¾ã—ãŸï¼ã‚ãªãŸã‚‚è³ªå•ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ';
            const shareUrl = window.location.href;

            // ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã®å ´åˆã¯LINEã‚¢ãƒ—ãƒªã‚’ç›´æ¥é–‹ã
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                const lineUrl = 'https://line.me/R/msg/text/?' + encodeURIComponent(shareText + ' ' + shareUrl);
                window.location.href = lineUrl;
            } else {
                // PCã®å ´åˆã¯QRã‚³ãƒ¼ãƒ‰ä»˜ãã®ã‚·ã‚§ã‚¢ç”»é¢
                const lineUrl = 'https://social-plugins.line.me/lineit/share?url=' + encodeURIComponent(shareUrl) + '&text=' + encodeURIComponent(shareText);
                window.open(lineUrl, '_blank', 'width=600,height=400');
            }

            showShareMessage();
        }

        function showShareMessage() {
            var messageElement = document.getElementById('shareMessage');
            var messages = [
                'ğŸ›¸ å®‡å®™ã«ã‚«ã‚¹ã‚’æ”¾æµã—ã¾ã—ãŸ',
                'ğŸ“¡ é›»æ³¢ãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸ',
                'ğŸŒŒ ã‚«ã‚¹ãŒéŠ€æ²³ã®å½¼æ–¹ã¸æ—…ç«‹ã¡ã¾ã—ãŸ',
                'âš¡ æƒ…å ±ãŒå…‰é€Ÿã§æ‹¡æ•£ä¸­ã§ã™',
                'ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«å‘½ä¸­ã—ã¾ã—ãŸï¼ˆãŸã¶ã‚“ï¼‰'
            ];

            messageElement.textContent = messages[Math.floor(Math.random() * messages.length)];
            messageElement.classList.add('active');

            setTimeout(function () {
                messageElement.classList.remove('active');
            }, 3000);

            // ã‚·ã‚§ã‚¢çµ±è¨ˆã‚’æ›´æ–°
            updateShareStats();
        }

        function updateShareStats() {
            var statsElement = document.getElementById('shareStats');
            var stats = [
                'ğŸ“¡ ' + (Math.floor(Math.random() * 50000) + 10000) + 'äººãŒã“ã®é›»æ³¢ã«æ„Ÿå¿œã—ã¾ã—ãŸï¼ˆã†ã¡' + (Math.floor(Math.random() * 100) + 10) + 'äººã¯é´ã‚’ãªãã—ã¾ã—ãŸï¼‰',
                'ğŸ” ' + (Math.floor(Math.random() * 30000) + 5000) + 'å›ã‚·ã‚§ã‚¢ã•ã‚Œã¾ã—ãŸï¼ˆãŸã ã—9å‰²ãŒäº‹æ•…æ‰±ã„ï¼‰',
                'ğŸŒŠ ' + (Math.floor(Math.random() * 80000) + 20000) + 'ã®æ³¢å‹•ã‚’æ¤œå‡ºï¼ˆæ„å‘³ã¯ä¸æ˜ï¼‰',
                'âš¡ ' + (Math.floor(Math.random() * 100000) + 50000) + 'å›ã®é›»æ³¢å—ä¿¡ã‚’ç¢ºèªï¼ˆèª¤ä½œå‹•å«ã‚€ï¼‰',
                'ğŸª ' + (Math.floor(Math.random() * 25000) + 8000) + 'äººãŒæ··ä¹±ã®æ¸¦ã«å·»ãè¾¼ã¾ã‚Œã¾ã—ãŸ'
            ];
            statsElement.textContent = stats[Math.floor(Math.random() * stats.length)];
        }

        // ã‚‚ã†ä¸€åº¦è³ªå•ã™ã‚‹
        function askAgain() {
            var answerArea = document.getElementById('answerArea');
            var questionForm = document.querySelector('.question-form');
            var input = document.getElementById('questionInput');

            // å›ç­”ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
            answerArea.classList.remove('active');

            // ãƒ•ã‚©ãƒ¼ãƒ ã‚’å†è¡¨ç¤º
            questionForm.style.display = 'block';

            // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚¯ãƒªã‚¢
            input.value = '';
            updateCharCounter();

            // ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ åŒ–
            randomizeButtonText();

            // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
            input.focus();
        }

        // ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
        function goBack() {
            window.location.href = 'index.html';
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function () {
            createStars();
            randomizeButtonText();

            // å®šæœŸçš„ã«ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´
            setInterval(randomizeButtonText, 10000);

            // Enterã‚­ãƒ¼ã§é€ä¿¡
            document.getElementById('questionInput').addEventListener('keydown', function (e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    if (!this.value.trim() || this.value.length > 100) return;
                    submitQuestion();
                }
            });

            // URLã«qã¨seedãŒã‚ã‚Œã°è‡ªå‹•ã§çµæœã‚’è¡¨ç¤º
            var q = urlParams.get('q');
            var seed = urlParams.get('seed');
            if (q && seed) {
                currentQuestion = q;
                currentSeed = seed;
                seededRandom = mulberry32(hashString(currentSeed));
                document.querySelector('.question-form').style.display = 'none';
                showAnswer();
            }
        });
    </script>
</body>

</html>